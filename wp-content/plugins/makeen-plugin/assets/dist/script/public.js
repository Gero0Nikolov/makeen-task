"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var Public=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){if(void 0===window.mtpShortcodeDataObject)return!1;this.baseSelector="makeen-task-shortcode",this.selectors={button:".".concat(this.baseSelector,"-button"),formContainer:".".concat(this.baseSelector,"-form-container")},this.logShortcodeData(),this.initEventHandlers()}},{key:"logShortcodeData",value:function(){console.log(window.mtpShortcodeDataObject.metaData)}},{key:"initEventHandlers",value:function(){jQuery(document).on("click",this.selectors.button,this.handleShortcodeButtonClick)}},{key:"handleShortcodeButtonClick",value:function(e){e.preventDefault(),jQuery.ajax({type:"POST",url:window.mtpShortcodeDataObject.securityData.ajaxUrl,data:{action:window.mtpShortcodeDataObject.securityData.action,nonce:window.mtpShortcodeDataObject.securityData.nonce,formId:window.mtpShortcodeDataObject.metaData.frm_id},success:window.Public.handleShortcodeSuccess,error:window.Public.handleShortcodeError})}},{key:"handleShortcodeSuccess",value:function(e){var t=JSON.parse(e);if(!t.success)return t.messages.forEach((function(e,t){alert(e)})),!1;jQuery(window.Public.selectors.formContainer).append(t.data.markup)}},{key:"handleShortcodeError",value:function(e){console.error(e)}}]),e}();window.Public=new Public,jQuery(document).ready((function(e){window.Public.init()}));
//# sourceMappingURL=public.js.map